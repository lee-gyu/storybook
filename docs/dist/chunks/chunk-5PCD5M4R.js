var tt={"datePicker.minDate":new Date("1970-01-01"),"datePicker.maxDate":new Date("9999-12-31"),"grid.defaultFontSize":"13px","grid.defaultFontFamily":"Pretendard","grid.paddingTop":6,"grid.paddingBottom":6,"grid.paddingLeft":8,"grid.paddingRight":8,"grid.defaultRowMinSize":28,"grid.defaultRowMaxSize":100,"grid.defaultRowHeight":28,"grid.defaultColumnMinSize":80,"grid.defaultColumnMaxSize":500,"grid.defaultColumnWidth":100,"grid.defaultDropdownWidth":240,"tree-view.headerRowHeight":36,"tree-view.nodeRowHeight":28,"layerElementId.floating":"#ir_floating","layerElementId.drawer":"#ir_drawer","layerElementId.dialog":"#ir_dialog","layerElementId.popover":"#ir_popover","layerElementId.message":"#ir_message","layerElementId.toast":"#ir_toast"},me=class{constructor(t=tt){this.config=t}getStoreValue(t){return this.config[t]}setStoreValue(t,n){this.config[t]=n}},le=(()=>{let e=null;return()=>(e||(e=new me),e)})();function Pt(e){return le().getStoreValue(e)}function Ce(e){let n=le().getStoreValue(`layerElementId.${e}`),o=document.querySelector(n);if(!(o instanceof HTMLElement))throw new Error(`Not found layer element '${n}'`);return o}var k={};function nt(){document.addEventListener("keydown",e=>{k[e.key]&&k[e.key].forEach(t=>t(e))})}typeof document<"u"&&nt();var Re=(e,t)=>{k[e]?k[e].push(t):k[e]=[t]},Dt=(e,t)=>{let n=k[e].indexOf(t);n!==-1&&k[e].splice(n,1)},Ft=e=>{delete k[e]};var J=[];Re("Escape",()=>{var t;let e=J.pop();e&&((t=e.onESC)==null||t.call(e),e.hide())});function Le(e){function t(){return J.indexOf(e)}return{create:()=>{if(t()===-1)J.push(e);else throw new Error("Already created esc controller")},destroy:()=>{let n=J.indexOf(e);n!==-1&&J.splice(n,1)}}}var ce={floating:[],dialog:[],message:[],popover:[],toast:[]},ot=(e,t)=>{if(t>=100)throw new Error("z-index could not be set more 100");return`calc(var(--z-index-${e}) + ${t*100})`},it=e=>{ce[e].forEach((t,n)=>t.element.style.zIndex=ot(e,n))},Se=({selector:e,element:t,type:n,onESC:o,escClose:i=!0,parentElement:r,onInit:s})=>{let l=t||document.querySelector(e||"");if(!l)throw new Error("missing element to popover. Please check the parameters (selector or element)");let a=f=>{f.target===l&&(l.remove(),l.removeEventListener("transitionend",a))},c={get element(){return l},show:()=>{if(!l.classList.contains("is-visible"))return i&&u.create(),r?(r.appendChild(l),setTimeout(()=>l.classList.add("is-visible"),0)):l.classList.add("is-visible"),ce[n].push(c),it(n),c},hide:()=>(i&&u.destroy(),l.classList.remove("is-visible"),l.style.removeProperty("z-index"),r&&l.addEventListener("transitionend",a),ce[n]=ce[n].filter(f=>f!==c),o&&o(),c),bringToTop:()=>{c.hide(),c.show()}},u=Le(c);return s&&s(l,c),r&&l.isConnected&&l.remove(),c};var Oe=["top","right","bottom","left"],Pe=["start","end"],pe=Oe.reduce((e,t)=>e.concat(t,t+"-"+Pe[0],t+"-"+Pe[1]),[]),U=Math.min,M=Math.max,te=Math.round,ne=Math.floor,_=e=>({x:e,y:e}),rt={left:"right",right:"left",bottom:"top",top:"bottom"},st={start:"end",end:"start"};function ge(e,t,n){return M(e,U(t,n))}function K(e,t){return typeof e=="function"?e(t):e}function L(e){return e.split("-")[0]}function S(e){return e.split("-")[1]}function he(e){return e==="x"?"y":"x"}function ye(e){return e==="y"?"height":"width"}function oe(e){return["top","bottom"].includes(L(e))?"y":"x"}function xe(e){return he(oe(e))}function we(e,t,n){n===void 0&&(n=!1);let o=S(e),i=xe(e),r=ye(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=ee(s)),[s,ee(s)]}function He(e){let t=ee(e);return[Q(e),t,Q(t)]}function Q(e){return e.replace(/start|end/g,t=>st[t])}function lt(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function Me(e,t,n,o){let i=S(e),r=lt(L(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(Q)))),r}function ee(e){return e.replace(/left|right|bottom|top/g,t=>rt[t])}function ct(e){return{top:0,right:0,bottom:0,left:0,...e}}function _e(e){return typeof e!="number"?ct(e):{top:e,right:e,bottom:e,left:e}}function I(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function De(e,t,n){let{reference:o,floating:i}=e,r=oe(t),s=xe(t),l=ye(s),a=L(t),c=r==="y",u=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,g=o[l]/2-i[l]/2,d;switch(a){case"top":d={x:u,y:o.y-i.height};break;case"bottom":d={x:u,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:f};break;case"left":d={x:o.x-i.width,y:f};break;default:d={x:o.x,y:o.y}}switch(S(t)){case"start":d[s]-=g*(n&&c?-1:1);break;case"end":d[s]+=g*(n&&c?-1:1);break}return d}var Fe=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=De(c,o,a),g=o,d={},m=0;for(let h=0;h<l.length;h++){let{name:x,fn:p}=l[h],{x:y,y:w,data:b,reset:v}=await p({x:u,y:f,initialPlacement:o,placement:g,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:e,floating:t}});u=y!=null?y:u,f=w!=null?w:f,d={...d,[x]:{...d[x],...b}},v&&m<=50&&(m++,typeof v=="object"&&(v.placement&&(g=v.placement),v.rects&&(c=v.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):v.rects),{x:u,y:f}=De(c,g,a)),h=-1)}return{x:u,y:f,placement:g,strategy:i,middlewareData:d}};async function ae(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:d=0}=K(t,e),m=_e(d),x=l[g?f==="floating"?"reference":"floating":f],p=I(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),y=f==="floating"?{...s.floating,x:o,y:i}:s.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},v=I(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:a}):y);return{top:(p.top-v.top+m.top)/b.y,bottom:(v.bottom-p.bottom+m.bottom)/b.y,left:(p.left-v.left+m.left)/b.x,right:(v.right-p.right+m.right)/b.x}}function at(e,t,n){return(e?[...n.filter(i=>S(i)===e),...n.filter(i=>S(i)!==e)]:n.filter(i=>L(i)===i)).filter(i=>e?S(i)===e||(t?Q(i)!==i:!1):!0)}var ke=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,i;let{rects:r,middlewareData:s,placement:l,platform:a,elements:c}=t,{crossAxis:u=!1,alignment:f,allowedPlacements:g=pe,autoAlignment:d=!0,...m}=K(e,t),h=f!==void 0||g===pe?at(f||null,d,g):g,x=await ae(t,m),p=((n=s.autoPlacement)==null?void 0:n.index)||0,y=h[p];if(y==null)return{};let w=we(y,r,await(a.isRTL==null?void 0:a.isRTL(c.floating)));if(l!==y)return{reset:{placement:h[0]}};let b=[x[L(y)],x[w[0]],x[w[1]]],v=[...((o=s.autoPlacement)==null?void 0:o.overflows)||[],{placement:y,overflows:b}],R=h[p+1];if(R)return{data:{index:p+1,overflows:v},reset:{placement:R}};let B=v.map(T=>{let F=S(T.placement);return[T.placement,F&&u?T.overflows.slice(0,2).reduce((H,se)=>H+se,0):T.overflows[0],T.overflows]}).sort((T,F)=>T[1]-F[1]),j=((i=B.filter(T=>T[2].slice(0,S(T[0])?2:3).every(F=>F<=0))[0])==null?void 0:i[0])||B[0][0];return j!==l?{data:{index:p+1,overflows:v},reset:{placement:j}}:{}}}},Be=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;let{placement:i,middlewareData:r,rects:s,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...x}=K(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};let p=L(i),y=L(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),b=g||(y||!h?[ee(l)]:He(l));!g&&m!=="none"&&b.push(...Me(l,h,m,w));let v=[l,...b],R=await ae(t,x),B=[],z=((o=r.flip)==null?void 0:o.overflows)||[];if(u&&B.push(R[p]),f){let H=we(i,s,w);B.push(R[H[0]],R[H[1]])}if(z=[...z,{placement:i,overflows:B}],!B.every(H=>H<=0)){var j,T;let H=(((j=r.flip)==null?void 0:j.index)||0)+1,se=v[H];if(se)return{data:{index:H,overflows:z},reset:{placement:se}};let q=(T=z.filter($=>$.overflows[0]<=0).sort(($,W)=>$.overflows[1]-W.overflows[1])[0])==null?void 0:T.placement;if(!q)switch(d){case"bestFit":{var F;let $=(F=z.map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,et)=>Z+et,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:F[0];$&&(q=$);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};async function ft(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=L(n),l=S(n),a=oe(n)==="y",c=["left","top"].includes(s)?-1:1,u=r&&a?-1:1,f=K(t,e),{mainAxis:g,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof m=="number"&&(d=l==="end"?m*-1:m),a?{x:d*u,y:g*c}:{x:g*c,y:d*u}}var fe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;let{x:i,y:r,placement:s,middlewareData:l}=t,a=await ft(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+a.x,y:r+a.y,data:{...a,placement:s}}}}},Ie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:p,y}=x;return{x:p,y}}},...a}=K(e,t),c={x:n,y:o},u=await ae(t,a),f=oe(L(i)),g=he(f),d=c[g],m=c[f];if(r){let x=g==="y"?"top":"left",p=g==="y"?"bottom":"right",y=d+u[x],w=d-u[p];d=ge(y,d,w)}if(s){let x=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=m+u[x],w=m-u[p];m=ge(y,m,w)}let h=l.fn({...t,[g]:d,[f]:m});return{...h,data:{x:h.x-n,y:h.y-o}}}}};function D(e){return Ne(e)?(e.nodeName||"").toLowerCase():"#document"}function E(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function P(e){var t;return(t=(Ne(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ne(e){return e instanceof Node||e instanceof E(e).Node}function O(e){return e instanceof Element||e instanceof E(e).Element}function C(e){return e instanceof HTMLElement||e instanceof E(e).HTMLElement}function Ve(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof E(e).ShadowRoot}function G(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=A(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function ze(e){return["table","td","th"].includes(D(e))}function ue(e){let t=de(),n=A(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ve(e){let t=V(e);for(;C(t)&&!ie(t);){if(ue(t))return t;t=V(t)}return null}function de(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ie(e){return["html","body","#document"].includes(D(e))}function A(e){return E(e).getComputedStyle(e)}function re(e){return O(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function V(e){if(D(e)==="html")return e;let t=e.assignedSlot||e.parentNode||Ve(e)&&e.host||P(e);return Ve(t)?t.host:t}function $e(e){let t=V(e);return ie(t)?e.ownerDocument?e.ownerDocument.body:e.body:C(t)&&G(t)?t:$e(t)}function Y(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);let i=$e(e),r=i===((o=e.ownerDocument)==null?void 0:o.body),s=E(i);return r?t.concat(s,s.visualViewport||[],G(i)?i:[],s.frameElement&&n?Y(s.frameElement):[]):t.concat(i,Y(i,[],n))}function Ke(e){let t=A(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=C(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,l=te(n)!==r||te(o)!==s;return l&&(n=r,o=s),{width:n,height:o,$:l}}function be(e){return O(e)?e:e.contextElement}function X(e){let t=be(e);if(!C(t))return _(1);let n=t.getBoundingClientRect(),{width:o,height:i,$:r}=Ke(t),s=(r?te(n.width):n.width)/o,l=(r?te(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}var ut=_(0);function Ye(e){let t=E(e);return!de()||!t.visualViewport?ut:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==E(e)?!1:t}function N(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=be(e),s=_(1);t&&(o?O(o)&&(s=X(o)):s=X(e));let l=dt(r,n,o)?Ye(r):_(0),a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(r){let g=E(r),d=o&&O(o)?E(o):o,m=g.frameElement;for(;m&&o&&d!==g;){let h=X(m),x=m.getBoundingClientRect(),p=A(m),y=x.left+(m.clientLeft+parseFloat(p.paddingLeft))*h.x,w=x.top+(m.clientTop+parseFloat(p.paddingTop))*h.y;a*=h.x,c*=h.y,u*=h.x,f*=h.y,a+=y,c+=w,m=E(m).frameElement}}return I({width:u,height:f,x:a,y:c})}var mt=[":popover-open",":modal"];function Ge(e){let t=!1,n=0,o=0;function i(r){try{t=t||e.matches(r)}catch{}}if(mt.forEach(r=>{i(r)}),t){let r=ve(e);if(r){let s=r.getBoundingClientRect();n=s.x,o=s.y}}return[t,n,o]}function pt(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e,r=P(o),[s]=t?Ge(t.floating):[!1];if(o===r||s)return n;let l={scrollLeft:0,scrollTop:0},a=_(1),c=_(0),u=C(o);if((u||!u&&i!=="fixed")&&((D(o)!=="body"||G(r))&&(l=re(o)),C(o))){let f=N(o);a=X(o),c.x=f.x+o.clientLeft,c.y=f.y+o.clientTop}return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-l.scrollLeft*a.x+c.x,y:n.y*a.y-l.scrollTop*a.y+c.y}}function gt(e){return Array.from(e.getClientRects())}function Xe(e){return N(P(e)).left+re(e).scrollLeft}function ht(e){let t=P(e),n=re(e),o=e.ownerDocument.body,i=M(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=M(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+Xe(e),l=-n.scrollTop;return A(o).direction==="rtl"&&(s+=M(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:l}}function yt(e,t){let n=E(e),o=P(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,l=0,a=0;if(i){r=i.width,s=i.height;let c=de();(!c||c&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:r,height:s,x:l,y:a}}function xt(e,t){let n=N(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=C(e)?X(e):_(1),s=e.clientWidth*r.x,l=e.clientHeight*r.y,a=i*r.x,c=o*r.y;return{width:s,height:l,x:a,y:c}}function We(e,t,n){let o;if(t==="viewport")o=yt(e,n);else if(t==="document")o=ht(P(e));else if(O(t))o=xt(t,n);else{let i=Ye(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return I(o)}function je(e,t){let n=V(e);return n===t||!O(n)||ie(n)?!1:A(n).position==="fixed"||je(n,t)}function wt(e,t){let n=t.get(e);if(n)return n;let o=Y(e,[],!1).filter(l=>O(l)&&D(l)!=="body"),i=null,r=A(e).position==="fixed",s=r?V(e):e;for(;O(s)&&!ie(s);){let l=A(s),a=ue(s);!a&&l.position==="fixed"&&(i=null),(r?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||G(s)&&!a&&je(e,s))?o=o.filter(u=>u!==s):i=l,s=V(s)}return t.set(e,o),o}function vt(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?wt(t,this._c):[].concat(n),o],l=s[0],a=s.reduce((c,u)=>{let f=We(t,u,i);return c.top=M(f.top,c.top),c.right=U(f.right,c.right),c.bottom=U(f.bottom,c.bottom),c.left=M(f.left,c.left),c},We(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function bt(e){let{width:t,height:n}=Ke(e);return{width:t,height:n}}function Et(e,t,n,o){let i=C(t),r=P(t),s=n==="fixed",l=N(e,!0,s,t),a={scrollLeft:0,scrollTop:0},c=_(0);if(i||!i&&!s)if((D(t)!=="body"||G(r))&&(a=re(t)),i){let h=N(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else r&&(c.x=Xe(r));let u=l.left+a.scrollLeft-c.x,f=l.top+a.scrollTop-c.y,[g,d,m]=Ge(o);return g&&(u+=d,f+=m,i&&(u+=t.clientLeft,f+=t.clientTop)),{x:u,y:f,width:l.width,height:l.height}}function Ue(e,t){return!C(e)||A(e).position==="fixed"?null:t?t(e):e.offsetParent}function qe(e,t){let n=E(e);if(!C(e))return n;let o=Ue(e,t);for(;o&&ze(o)&&A(o).position==="static";)o=Ue(o,t);return o&&(D(o)==="html"||D(o)==="body"&&A(o).position==="static"&&!ue(o))?n:o||ve(e)||n}var Tt=async function(e){let t=this.getOffsetParent||qe,n=this.getDimensions;return{reference:Et(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function At(e){return A(e).direction==="rtl"}var Ct={convertOffsetParentRelativeRectToViewportRelativeRect:pt,getDocumentElement:P,getClippingRect:vt,getOffsetParent:qe,getElementRects:Tt,getClientRects:gt,getDimensions:bt,getScale:X,isElement:O,isRTL:At};function Rt(e,t){let n=null,o,i=P(e);function r(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),r();let{left:c,top:u,width:f,height:g}=e.getBoundingClientRect();if(l||t(),!f||!g)return;let d=ne(u),m=ne(i.clientWidth-(c+f)),h=ne(i.clientHeight-(u+g)),x=ne(c),y={rootMargin:-d+"px "+-m+"px "+-h+"px "+-x+"px",threshold:M(0,U(1,a))||1},w=!0;function b(v){let R=v[0].intersectionRatio;if(R!==a){if(!w)return s();R?s(!1,R):o=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(e)}return s(!0),r}function Ee(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=be(e),u=i||r?[...c?Y(c):[],...Y(t)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),r&&p.addEventListener("resize",n)});let f=c&&l?Rt(c,n):null,g=-1,d=null;s&&(d=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),c&&!a&&d.observe(c),d.observe(t));let m,h=a?N(e):null;a&&x();function x(){let p=N(e);h&&(p.x!==h.x||p.y!==h.y||p.width!==h.width||p.height!==h.height)&&n(),h=p,m=requestAnimationFrame(x)}return n(),()=>{var p;u.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),f==null||f(),(p=d)==null||p.disconnect(),d=null,a&&cancelAnimationFrame(m)}}var Ze=ke,on=Ie,Je=Be;var Te=(e,t,n)=>{let o=new Map,i={platform:Ct,...n},r={...i.platform,_c:o};return Fe(e,t,{...i,platform:r})};var Qe=8;function Lt(e,t){if(!e.isConnected)return!0;let n=e;for(;n;){if(n.style.display==="none")return!0;n=n.parentElement}return!1}var un=(e,t)=>({getBoundingClientRect(){return{width:0,height:0,x:e,y:t,top:t,left:e,bottom:t,right:e}}}),dn=(e,t,n="bottom")=>Ee(e,t,()=>{Lt(e,t)||Te(e,t,{strategy:"absolute",placement:n,middleware:[fe(Qe),Je()]}).then(({x:i,y:r})=>{t.style.top=`${r}px`,t.style.left=`${i}px`})}),Ae=class{constructor(t){this.args=t;this._visible=!1;t.floatingTemplateElement.content.children.length>1&&console.warn("floatingTemplateElement uses only first child element. others is ignored."),this._cachedElement=t.floatingTemplateElement.content.firstElementChild,this._popoverHandler=Se({type:"popover",parentElement:Ce("popover"),element:this._cachedElement,onESC:()=>{this._visible=!1}})}get cachedElement(){return this._cachedElement}_computePosition(){Te(this.args.refElement,this._cachedElement,{strategy:"fixed",middleware:[fe(this.args.offset),Ze({allowedPlacements:this.args.autoPlacement})]}).then(t=>{this._cachedElement.style.top=`${t.y}px`,this._cachedElement.style.left=`${t.x}px`,this._cachedElement.style.position=t.strategy})}show(){this._visible||(this._popoverHandler.show(),this._visible=!0,this.args.autoUpdate?this._cleanup=Ee(this.args.refElement,this._cachedElement,()=>this._computePosition()):this._computePosition())}hide(){var t;this._visible&&(this._visible=!1,this._popoverHandler.hide(),(t=this._cleanup)==null||t.call(this),this._cleanup=void 0)}destroy(){this.hide()}get isVisible(){return this._visible}},St=["right-start","right-end","left-start","left-end"],mn=e=>{var t,n,o;return new Ae({floatingTemplateElement:e.floatingTemplateElement,refElement:e.refElement,offset:(t=e.offset)!=null?t:Qe,autoPlacement:(n=e.autoPlacement)!=null?n:St,autoUpdate:(o=e.autoUpdate)!=null?o:!1})};export{le as a,Pt as b,Ce as c,Re as d,Dt as e,Ft as f,Le as g,fe as h,Ee as i,on as j,Je as k,Te as l,Se as m,un as n,dn as o,mn as p};
