function O(r,e){if(r===e)return!0;if(r===null||e===null||typeof r!="object"||typeof e!="object")return!1;let n=Object.keys(r),o=Object.keys(e);if(n.length!==o.length)return!1;for(let c of n)if(!o.includes(c)||!O(r[c],e[c]))return!1;return!0}function j(r){return JSON.parse(JSON.stringify(r))}function L(r,e,n=1){let o=[];for(let c=r;c<e;c+=n)o.push(c);return o}function B(r,e,n=1){let{start:o,end:c}=e===void 0?{start:0,end:r}:{start:r,end:e};return{forEach(s){let i=o;for(;i!==c;)s(i),i+=n},map(s){let i=[];for(let h=o;h<c;h+=n)i.push(s(h));return i},some(s){let i=o;for(;i!==c;){if(s(i))return!0;i+=n}return!1},asList(){return L(o,c,n)},reduce(s,i){let h=i,d=o;for(;d!==c;)h=s(h,d),d+=n;return h}}}function x(r){return Object.keys(r)}function A(r,e){return e in r}function I(r,e){let n={};for(let o of x(e))A(r,o)&&(n[o]=r[o]);return n}function E(r){return r!==null&&typeof r=="object"||Array.isArray(r)}function b(r,e){let n=x(r),o=x(e),c=Array.isArray(r)?[]:{};for(let s of n)c[s]=r[s];for(let s of o)E(e[s])&&A(r,s)&&r[s]&&E(r[s])?c[s]=b(r[s],e[s]):c[s]=e[s];return c}function D(r,e){return{forEach(n){let o=Math.min(r.length,e.length);for(let c=0;c<o;c++)n(r[c],e[c])}}}function S(r){return r instanceof HTMLElement}function g(){let r=new Map;return{has:e,getList:n,getListOrNull:o,add:s,remove:c,clear:i,clearAll:h,forEach:d,forEachAsync:y};function e(f){return r.has(f)}function n(f){return r.get(f)}function o(f){let l=r.get(f);return l||null}function c(f,l){let p=o(f);if(!p)return;let a=p.indexOf(l);a>-1&&p.splice(a,1)}function s(f,l){e(f)?n(f).push(l):r.set(f,[l])}function i(f){r.set(f,[])}function h(){r.clear()}function d(f,l){let p=o(f);if(!p)return!0;try{for(let a of p)if(l(a)===!1)return!1}catch(a){throw console.error("occurred an error when forEach list-map"),console.error(a),a}return!0}async function y(f,l){let p=o(f);if(!p)return!0;try{for(let a of p){let m=l(a);if(m instanceof Promise&&await m===!1||m===!1)return!1}}catch(a){throw console.error("occurred an error when forEachAsync list-map"),console.error(a),a}return!0}}async function H(r){for(let{label:e,task:n}of r)try{if(await n===!1)return!1}catch(o){throw console.error(`occurred an error when ${e}`),o}return!0}function R(){let r=g(),e=g(),n=g();return{emit:o,clearHooks:c,addHook:s,setHook:h,removeHook:i,clearBeginHooks:d,addBeginHook:y,setBeginHook:f,clearEndHooks:l,addEndHook:p,setEndHook:a,destroy:m};function o(t,u){let k=w=>w(...u);return H([{label:`begin_${t}`,task:r.forEachAsync(t,k)},{label:`${t}`,task:n.forEachAsync(t,k)},{label:`end_${t}`,task:e.forEachAsync(t,k)}])}function c(t){n.clear(t)}function s(t,u){n.add(t,u)}function i(t,u){n.remove(t,u)}function h(t,u){c(t),s(t,u)}function d(t){r.clear(t)}function y(t,u){r.add(t,u)}function f(t,u){d(t),y(t,u)}function l(t){e.clear(t)}function p(t,u){e.add(t,u)}function a(t,u){l(t),p(t,u)}function m(){r.clearAll(),e.clearAll(),n.clearAll()}}export{O as a,j as b,B as c,I as d,b as e,D as f,R as g,S as h};
