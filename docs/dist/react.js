import{b as G}from"./chunks/chunk-HJRTLFPM.js";import{a as he,b as ye,c as H,d as w,e as E,h as K}from"./chunks/chunk-WYAVRYMZ.js";import{a as I}from"./chunks/chunk-ZSTOGUCC.js";import"./chunks/chunk-5PCD5M4R.js";import"./chunks/chunk-QOX5DKB2.js";import{b as _e,d as h}from"./chunks/chunk-QBHXWPSD.js";var J=_e(M=>{"use strict";var q=ye();M.createRoot=q.createRoot,M.hydrateRoot=q.hydrateRoot;var Re});var Q=h(he(),1),Z=h(J(),1);var Y=h(w(),1);function X(){return(0,Y.jsx)(K,{})}var z=h(w(),1),j=document.getElementById("ir_react_app");if(!j)throw new Error("Root element not found!");var me=(0,Z.createRoot)(j);me.render((0,z.jsx)(Q.default.StrictMode,{children:(0,z.jsx)(X,{})}));var ie=Symbol.for("immer-nothing"),ee=Symbol.for("immer-draftable"),c=Symbol.for("immer-state");function f(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var y=Object.getPrototypeOf;function m(e){return!!e&&!!e[c]}function p(e){var t;return e?se(e)||Array.isArray(e)||!!e[ee]||!!((t=e.constructor)!=null&&t[ee])||A(e)||S(e):!1}var ge=Object.prototype.constructor.toString();function se(e){if(!e||typeof e!="object")return!1;let t=y(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ge}function g(e,t){C(e)===0?Object.entries(e).forEach(([r,n])=>{t(r,n,e)}):e.forEach((r,n)=>t(n,r,e))}function C(e){let t=e[c];return t?t.type_:Array.isArray(e)?1:A(e)?2:S(e)?3:0}function F(e,t){return C(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ae(e,t,r){let n=C(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ve(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function A(e){return e instanceof Map}function S(e){return e instanceof Set}function d(e){return e.copy_||e.base_}function T(e,t){if(A(e))return new Map(e);if(S(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&se(e))return y(e)?{...e}:Object.assign(Object.create(null),e);let r=Object.getOwnPropertyDescriptors(e);delete r[c];let n=Reflect.ownKeys(r);for(let o=0;o<n.length;o++){let i=n[o],s=r[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(y(e),r)}function W(e,t=!1){return R(e)||m(e)||!p(e)||(C(e)>1&&(e.set=e.add=e.clear=e.delete=be),Object.freeze(e),t&&g(e,(r,n)=>W(n,!0),!0)),e}function be(){f(2)}function R(e){return Object.isFrozen(e)}var we={};function _(e){let t=we[e];return t||f(0,e),t}var v;function ce(){return v}function Ee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function te(e,t){t&&(_("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function k(e){B(e),e.drafts_.forEach(Pe),e.drafts_=null}function B(e){e===v&&(v=e.parent_)}function re(e){return v=Ee(v,e)}function Pe(e){let t=e[c];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ne(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[c].modified_&&(k(t),f(4)),p(e)&&(e=P(t,e),t.parent_||D(t,e)),t.patches_&&_("Patches").generateReplacementPatches_(r[c].base_,e,t.patches_,t.inversePatches_)):e=P(t,r,[]),k(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ie?e:void 0}function P(e,t,r){if(R(t))return t;let n=t[c];if(!n)return g(t,(o,i)=>oe(e,n,t,o,i,r),!0),t;if(n.scope_!==e)return t;if(!n.modified_)return D(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let o=n.copy_,i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),g(i,(a,l)=>oe(e,n,o,a,l,r,s)),D(e,o,!1),r&&e.patches_&&_("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function oe(e,t,r,n,o,i,s){if(m(o)){let a=i&&t&&t.type_!==3&&!F(t.assigned_,n)?i.concat(n):void 0,l=P(e,o,a);if(ae(r,n,l),m(l))e.canAutoFreeze_=!1;else return}else s&&r.add(o);if(p(o)&&!R(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;P(e,o),(!t||!t.scope_.parent_)&&D(e,o)}}function D(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W(t,r)}function De(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ce(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=n,i=$;r&&(o=[n],i=b);let{revoke:s,proxy:a}=Proxy.revocable(o,i);return n.draft_=a,n.revoke_=s,a}var $={get(e,t){if(t===c)return e;let r=d(e);if(!F(r,t))return Ce(e,r,t);let n=r[t];return e.finalized_||!p(n)?n:n===x(e.base_,t)?(N(e),e.copy_[t]=U(n,e)):n},has(e,t){return t in d(e)},ownKeys(e){return Reflect.ownKeys(d(e))},set(e,t,r){let n=ue(d(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let o=x(d(e),t),i=o==null?void 0:o[c];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ve(r,o)&&(r!==void 0||F(e.base_,t)))return!0;N(e),V(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return x(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,N(e),V(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=d(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){f(11)},getPrototypeOf(e){return y(e.base_)},setPrototypeOf(){f(12)}},b={};g($,(e,t)=>{b[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});b.deleteProperty=function(e,t){return b.set.call(this,e,t,void 0)};b.set=function(e,t,r){return $.set.call(this,e[0],t,r,e[0])};function x(e,t){let r=e[c];return(r?d(r):e)[t]}function Ce(e,t,r){var o;let n=ue(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function ue(e,t){if(!(t in e))return;let r=y(e);for(;r;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=y(r)}}function V(e){e.modified_||(e.modified_=!0,e.parent_&&V(e.parent_))}function N(e){e.copy_||(e.copy_=T(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){let i=r;r=t;let s=this;return function(l=i,...de){return s.produce(l,pe=>r.call(this,pe,...de))}}typeof r!="function"&&f(6),n!==void 0&&typeof n!="function"&&f(7);let o;if(p(t)){let i=re(this),s=U(t,void 0),a=!0;try{o=r(s),a=!1}finally{a?k(i):B(i)}return te(i,n),ne(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===ie&&(o=void 0),this.autoFreeze_&&W(o,!0),n){let i=[],s=[];_("Patches").generateReplacementPatches_(t,o,i,s),n(i,s)}return o}else f(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let n,o;return[this.produce(t,r,(s,a)=>{n=s,o=a}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){p(e)||f(8),m(e)&&(e=Se(e));let t=re(this),r=U(e,void 0);return r[c].isManual_=!0,B(t),r}finishDraft(e,t){let r=e&&e[c];(!r||!r.isManual_)&&f(9);let{scope_:n}=r;return te(n,t),ne(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));let n=_("Patches").applyPatches_;return m(e)?n(e,t):this.produce(e,o=>n(o,t))}};function U(e,t){let r=A(e)?_("MapSet").proxyMap_(e,t):S(e)?_("MapSet").proxySet_(e,t):De(e,t);return(t?t.scope_:ce()).drafts_.push(r),r}function Se(e){return m(e)||f(10,e),fe(e)}function fe(e){if(!p(e)||R(e))return e;let t=e[c],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=T(e,t.scope_.immer_.useStrictShallowCopy_)}else r=T(e,!0);return g(r,(n,o)=>{ae(r,n,fe(o))}),t&&(t.finalized_=!1),r}var u=new Ae,O=u.produce,xe=u.produceWithPatches.bind(u),Ne=u.setAutoFreeze.bind(u),Fe=u.setUseStrictShallowCopy.bind(u),Te=u.applyPatches.bind(u),ke=u.createDraft.bind(u),Be=u.finishDraft.bind(u);var L=H(),le=class{constructor({items:t,blurDisabled:r=!1}){this._uuid=I();this._isDestroyed=!1;let n=G(t);this.findDividerRecursively(n),L.set(E,O(o=>{o.push({isVisible:!1,key:this._uuid,items:n,blurDisabled:r,placement:"right-start",onHide:this.hide.bind(this),onCommandButtonClick:(i,s)=>{this.onCommandButtonClick({ev:i.nativeEvent,item:s})}})}))}findDividerRecursively(t){t.forEach(r=>{r.id===void 0&&(r.id=I()),r.type==="dropdown"&&this.findDividerRecursively(r.children)})}findItemAndDoAction(t){L.set(E,O(r=>{let n=r.find(o=>o.key===this._uuid);n?t(n):console.warn("Not found context menu. is it destroyed?")}))}showAtPoint(t,r){this.findItemAndDoAction(n=>{n.isVisible=!0,n.point={x:t,y:r},n.placement="right-start",n.onGetRefElement=void 0})}showByElement(t,r,n){this.findItemAndDoAction(o=>{o.isVisible=!0,o.onGetRefElement=()=>t,o.placement=r,o.offset=n,o.point=void 0})}hide(){this.findItemAndDoAction(t=>{t.isVisible=!1})}destroy(){if(this._isDestroyed)throw new Error("Already destroyed.");this._isDestroyed=!0,L.set(E,O(t=>t.filter(r=>r.key!==this._uuid)))}updateItems(t){this.findItemAndDoAction(r=>t(r.items))}onCommandButtonClick(t){}};export{le as IRContextMenuAdapter};
